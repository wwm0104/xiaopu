<html layout:decorator="layout/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout">
<head>
    <title>添加管理员</title>
    <script th:src="@{/js/createAdmin.js}" ></script>

</head>
<body>
<div class="content-wrapper" layout:fragment="content">
    <section class="content-header">
        <h1>
            添加管理员
        </h1>
    </section>

    <section class="content">
        <div class="row">
            <div class="col-xs-12">
                <div class="box">
                    <script>
//                        $(function () {
//                            $("#inputForm").validation({icon: true});
//                            $("#add").on('click', function (event) {
//                                if ($("#inputForm").valid(this) == false) {
//                                    return false;
//                                } else {
//                                    add();
//                                }
//                            })
                            //表单验证
                            $(document).ready(function () {

                                $('#inputForm').bootstrapValidator({}).on('success.form.bv', function (e) {
                                    e.preventDefault();
                                    var $form = $(e.target);
                                    var bv = $form.data('bootstrapValidator');
                                    /*$.post($form.attr('action'), $form.serialize(), function (result) {
                                     console.log(result);
                                     }, 'json');*/
                                    add();//添加管理员方法
                                });
                            });
//                        });
                    </script>
                    <!-- form start -->
                    <form id="inputForm" method="post" class="form-horizontal" data-bv-feedbackicons-valid="glyphicon glyphicon-ok"
                          data-bv-feedbackicons-invalid="glyphicon glyphicon-remove"
                          data-bv-feedbackicons-validating="glyphicon glyphicon-refresh">
                        <div class="box-body">
                            <br/>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">姓名:</label>
                                <div class="col-sm-6">
                                    <input type="text" name="realName" id="realName" class="form-control " required="required"
                                           data-bv-notempty-message="请填写姓名" placeholder="请填写姓名"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">性别:</label>
                                <div class="col-sm-6">
                                    <select style="width: 100%" class="form-control" id="userSex">
                                        <option value="1">男</option>
                                        <option value="2">女</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">手机号:</label>
                                <div class="col-sm-6">
                                    <input type="text" name="mobile" id="mobile" class="form-control"  required="required"
                                           data-bv-notempty-message="请填写手机号" data-bv-stringlength="true" data-bv-stringlength-min="11" data-bv-stringlength-max="11" data-bv-stringlength-message="请输入11位手机号"   placeholder="请填写手机号"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">密码:</label>
                                <div class="col-sm-6">
                                    <input type="text" name="pwd" id="pwd" class="form-control" required="required"
                                           data-bv-notempty-message="请填写密码" placeholder="请填写密码" data-bv-stringlength="true" data-bv-stringlength-min="6" data-bv-stringlength-max="16" data-bv-stringlength-message="请输入6-16位密码" data-bv-identical="true" data-bv-identical-field="npwd" data-bv-identical-message="两次输入的密码不相同"  />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">确认密码:</label>
                                <div class="col-sm-6">
                                    <input type="text" name="npwd" id="npwd" class="form-control" required="required"
                                           data-bv-notempty-message="请确认密码" placeholder="请确认密码" data-bv-stringlength="true" data-bv-stringlength-min="6" data-bv-stringlength-max="16" data-bv-stringlength-message="请输入6-16位密码" data-bv-identical="true" data-bv-identical-field="pwd"  data-bv-identical-message="两次输入的密码不相同" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">学校:</label>
                                <input type="text" id="schoolNameDis" style="display: none" name="schoolName"/>
                                <div class="col-sm-4">
                                    <select name="schoolId" id="schoolList" style="width: 100%" class="form-control" required="required"
                                            data-bv-notempty-message="请选择学校">

                                        <option th:each="school : ${schools}"
                                                th:value="${school.id}"
                                                th:text="${school.name}"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">学号:</label>
                                <div class="col-sm-6">
                                    <input type="text" name="studentno" id="studentno" class="form-control" placeholder="请填写学号" />
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">QQ:</label>
                                <div class="col-sm-6">
                                    <input type="text" name="qq" id="qq" class="form-control" placeholder="请填QQ号"/>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button onclick="back();"  type="button" class="btn btn-default">返回</button>
                                <button id="add" type="submit" class="btn true-color">添加</button>
                            </div>

                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
</div>
</body>
</html>